mrrâ†".|-/"âˆ¾(92+@) #. |  -  /  \
nâ€¿eâ€¿sâ€¿wâ€¿zâ†â†•5 # north, east, south, west, dead
uâ†âŸ¨Â¯1â€¿0, 0â€¿1, 1â€¿0, 0â€¿Â¯1âŸ©

# mirrorâ€¿directionâŠ‘rf gives outbound ray dirs
rfâ†(â‰¡â—¶â‹ˆâ€¿âŠ¢)Â¨[
 n    â€¿e    â€¿s    â€¿w,     # . 
 n    â€¿âŸ¨n,sâŸ©â€¿s    â€¿âŸ¨n,sâŸ©, # |
 âŸ¨w,eâŸ©â€¿e    â€¿âŸ¨w,eâŸ©â€¿w,     # -
 e    â€¿n    â€¿w    â€¿s,     # /
 w    â€¿s    â€¿e    â€¿n,     # \
 ]
# TODO ^ confirm 'rf'
Solveâ†{loopâ€¿i0â€¿d0ğ•Šm:
 Bounceâ†{ğ•ŠâŸ¨âŸ©â€¿âŸ¨âŸ©:ğ•©;ğ•Šiâ€¿d: ((â‰ Â¨/iË™)â‹ˆâˆ¾) rfâŠ‘Ëœ(iâŠ‘m)â‹ˆÂ¨d }
 Goodâ†{ğ•Šiâ€¿Â·:âˆ§Â´Â¨(0â€¿0âŠ¸â‰¤âˆ§<âŸœ(â‰¢m))Â¨i}
 Moveâ†{ğ•Šiâ€¿d:dâ‹ˆËœi+Â¨dâŠu}
 oldsâ†âŸ¨âŸ©
 Fâ†{ğ•ŠâŸ¨âŸ©â€¿âŸ¨âŸ©:ğ•©;
    ğ•Šiâ€¿d  :oâ†oldsâˆŠËœi_dâ†iâ‹ˆÂ¨d â‹„ oldsâˆ¾â†©i_d
           (<âˆ˜Good/Â¨âŠ¢) Move Bounce (Â¬o)âŠ¸/Â¨ğ•©}
 âŸ¨âŸ©â€¿oldsâŠ‘Ëœ0=â‰ âŠ‘ FâŸloop â‹ˆÂ¨i0â€¿d0
}

# PART 1
46= +Â´âˆŠâŠ‘Â¨âŸ¨100,0â€¿0,1âŸ©Solve mrrâŠ >â€¢FLines "sample.txt"
â€¢Show "part 1"â‹ˆ+Â´âˆŠâŠ‘Â¨answerâ†âŸ¨1000,0â€¿0,1âŸ© Solve mrrâŠ >â€¢FLines "input.txt"

# PART 2
Part2â†{loopğ•Šm:
 iâ†â†•â‰¢m
 dâ†(zâŠ¸â‰ /Â¨âŠ¢) (âŠ‘Â¨)âŸœâŸ¨sâ€¿nâ€¿z, eâ€¿wâ€¿zâŸ©Â¨ 0â€¿(1-Ëœâ‰ m)âŠ¸âŠÂ¨i
 (âˆ¨Â´0âŠ¸=)â—¶âŸ¨âŒˆÂ´,"not yet"âŸ© {+Â´âˆŠâŠ‘Â¨ğ•©Solve m}Â¨ loopâ‹ˆâŠ¸âˆ¾Â¨ âˆ¾ i ({ğ•¨âŠ¸â‹ˆÂ¨ğ•©}Â¨â—‹â¥Š) d
}

51 = 100 Part2 mrrâŠ >â€¢FLines "sample.txt"
â€¢Show "part 2"â‹ˆ1000 Part2 mrrâŠ >â€¢FLines "input.txt"
