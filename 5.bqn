Numâ†(âŠ£+10Ã—âŠ¢)Â´âˆ˜âŒ½-âŸœ'0'
Parseâ†{(âŠ‘âˆ˜âŠ‘âˆ˜âŠ‘â‹ˆ1âŠ¸âŠ‘) (NumÂ¨' 'âŠ¸=(âŠ¢-ËœÂ¬Ã—+`)âŠ¸âŠ”âŠ¢)Â¨Â¨Â¨((â‹ˆâˆ˜â‹ˆ"seeds: "â‰ âŠ¸â†“âŠ‘)âˆ˜âŠ‘â‹ˆ(1âŠ¸â†“Â¨)âˆ˜(1âŠ¸â†“))  ((Â¬-ËœâŠ¢Ã—Â·+`Â»âŠ¸>)âˆ˜(0â‰ â‰ Â¨)âŠ”âŠ¢) ğ•©}

Fooâ†{mapğ•Šn:
 dstâ€¿srcâ€¿spanâ†âˆ¾Â¨Â´ map
 nâ‰ iâ† (2âŠ¸| Ã— 2Ã·Ëœ1âŠ¸+) n â‹Ëœ src(âˆ¾ âŠ£âˆ¾Â¨+)span
 n + dst -â—‹(iâŠ0âŠ¸âˆ¾) src
}
Brkâ†{mapğ•Šran:
 srcâ†â· (1âŠ¸âŠ‘Â¨map) (âˆ¾ âŠ£âˆ¾Â¨+) (2âŠ¸âŠ‘Â¨map)
 ran (âˆ¾{cğ•Šaâ€¿b:(aâŠ¸<âˆ§<âŸœb)c?âŸ¨aâ€¿c,câ€¿bâŸ©
                        ;â‹ˆğ•©       }Â¨)Â´ src
}
Pairâ†(âŒŠ2Ã·Ëœâ†•âˆ˜â‰ )âŠ¸âŠ”
Mergeâ†{(â‰ âŸœÂ«âŠ‘Â¨)âŠ¸/ {aâ€¿bğ•Šcâ€¿d:bâ‰¥c?aâ‹ˆbâŒˆd;ğ•©}` (â‹âŠ‘Â¨)âŠ¸âŠ ğ•©}


num0â€¿mapsâ†Parse â€¢FLines "sample.txt"
mapsâ†(â‹1âŠ¸âŠ‘Â¨)âŠ¸âŠÂ¨maps
âŒŠÂ´ num0 FooÂ´ âŒ½maps # part 1

(2âŠ‘maps) Brk (1âŠ‘maps) (âŠ£ (Mergeâˆ˜(âˆ§Â¨)âˆ˜Pair FooâŸœâˆ¾) Brk) (âŠ‘maps) (âŠ£ (Mergeâˆ˜(âˆ§Â¨)âˆ˜Pair FooâŸœâˆ¾) Brk) (Â»âŠ¸+Â¨Pair num0)

(0â€¿Â¯1âŠ¸+Â¨Â»âŠ¸+Â¨Pair num0) (âŠ£ ((âˆ§Â¨)âˆ˜Pair FooâŸœâˆ¾) Brk)Â´ âŒ½(maps) # part 2
