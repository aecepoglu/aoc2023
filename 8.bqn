# Prime factors
Factorâ†{accâ†âŸ¨âŸ© â‹„ 2 {ğ•¨>ğ•©?ğ•¨;0â‰ ğ•¨|ğ•©?(ğ•¨+1)ğ•Šğ•©; accâˆ¾â†©ğ•¨ â‹„ ğ•¨ğ•Šğ•©Ã·ğ•¨} ğ•© â‹„ acc}
2â€¿3 (âŠ£â‹ˆ(+Â´0=âŠ¢|ËœâŠ£â‹†1+Â·â†•Â·âŒŠâ‹†â¼))Â¨ 24

sample_data1â†âŸ¨"RL",
              "",
              "AAA = (BBB, CCC)",
              "BBB = (DDD, EEE)",
              "CCC = (ZZZ, GGG)",
              "DDD = (DDD, DDD)",
              "EEE = (EEE, EEE)",
              "GGG = (GGG, GGG)",
              "ZZZ = (ZZZ, ZZZ)"âŸ©
sample_data2â†âŸ¨"LR",
              "",
              "11A = (11B, XXX)",
              "11B = (XXX, 11Z)",
              "11Z = (11B, XXX)",
              "22A = (22B, XXX)",
              "22B = (22C, 22C)",
              "22C = (22Z, 22Z)",
              "22Z = (22B, 22B)",
              "XXX = (XXX, XXX)"âŸ©

Parse1â†{ğ•Šlines: # returns âŸ¨movmt, city, initâ€¿goal, leftNrightâŸ©
 fmtâ†0â€¿0â€¿0â€¿Â¯1â€¿Â¯1â€¿Â¯1â€¿Â¯1â€¿1â€¿1â€¿1â€¿Â¯1â€¿Â¯1â€¿2â€¿2â€¿2â€¿Â¯1 #  "AAA = (BBB, CCC)"
 tripleâ†fmtâŠ¸âŠ”Â¨2â†“lines
 idâ†âŠ‘Â¨triple
 ("LR"âŠâŠ‘lines)â€¿idâ€¿(idâŠ"AAA"â€¿"ZZZ")â€¿(idâŠ>1â†“Â¨triple)
}

âŸ¨mov,id,initâ€¿goal,forkâŸ© â† Parse1 sample_data1
movâ€¿idâ€¿leftâ€¿right â† Parse1 â€¢FLines "8.txt"

idâŠËœ  init{dğ•Šc:câ€¿dâŠ‘fork}Ëœ`mov # view the path
âŠ‘1+/goal=init(â‹ˆËœâŠ‘forkË™)Ëœ` 100000â¥Šmov # part 1

Parse2â†{ğ•Šlines: # returns âŸ¨movmt, city, initâ€¿goal, leftNrightâŸ©
 fmtâ†0â€¿0â€¿0â€¿Â¯1â€¿Â¯1â€¿Â¯1â€¿Â¯1â€¿1â€¿1â€¿1â€¿Â¯1â€¿Â¯1â€¿2â€¿2â€¿2â€¿Â¯1 #  "AAA = (BBB, CCC)"
 tripleâ†fmtâŠ¸âŠ”Â¨2â†“lines
 idâ†âŠ‘Â¨triple
 ("LR"âŠâŠ‘lines)â€¿idâ€¿(/Â¨(0âŠ¸=â‹ˆ1âŠ¸=)"AZ"âŠ2âŠ¸âŠ‘Â¨id)â€¿(idâŠ>1â†“Â¨triple)
}
2âŠ‘ âŸ¨mov,id,initâ€¿goal,forkâŸ© â† Parse2 â€¢FLines "8.txt"
2âŠ‘ âŸ¨mov,id,initâ€¿goal,forkâŸ© â† Parse2 sample_data2

stepâ†âŠ‘Â¨{1+/ goalâˆŠËœğ•©(â‹ˆËœâŠ‘forkË™)Ëœ` 1_000_000â¥Šmov}Â¨init

âˆ§Â´â·âˆ¾ FactorÂ¨step
